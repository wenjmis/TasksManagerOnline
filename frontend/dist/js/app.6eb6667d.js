(()=>{"use strict";var o={15:(o,t,e)=>{var n=e(751),d=e(641);const r={id:"app"},s={class:"main-content"};function i(o,t,e,n,i,a){const l=(0,d.g2)("Home");return(0,d.uX)(),(0,d.CE)("div",r,[t[0]||(t[0]=(0,d.Lk)("header",{class:"app-header"},[(0,d.Lk)("h1",null,"待辦事項管理系統")],-1)),(0,d.Lk)("main",s,[(0,d.bF)(l)])])}const a={class:"home"},l={class:"todo-form"},c={class:"form-group"},p={class:"form-group"};function u(o,t,e,r,s,i){const u=(0,d.g2)("TodoList");return(0,d.uX)(),(0,d.CE)("div",a,[(0,d.Lk)("div",l,[t[4]||(t[4]=(0,d.Lk)("h2",null,"新增待辦事項",-1)),(0,d.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)((...o)=>i.addTodo&&i.addTodo(...o),["prevent"]))},[(0,d.Lk)("div",c,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.newTodo.title=o),type:"text",placeholder:"待辦事項標題",required:"",class:"form-input"},null,512),[[n.Jo,s.newTodo.title]])]),(0,d.Lk)("div",p,[(0,d.bo)((0,d.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.newTodo.description=o),placeholder:"詳細描述（可選）",class:"form-textarea",rows:"3"},null,512),[[n.Jo,s.newTodo.description]])]),t[3]||(t[3]=(0,d.Lk)("button",{type:"submit",class:"btn btn-primary"},"新增",-1))],32)]),(0,d.bF)(u,{todos:s.todos,onToggleTodo:i.toggleTodo,onDeleteTodo:i.deleteTodo},null,8,["todos","onToggleTodo","onDeleteTodo"])])}const m={class:"todo-list"},h={key:0,class:"empty-state"},f={key:1};function v(o,t,e,n,r,s){const i=(0,d.g2)("TodoItem");return(0,d.uX)(),(0,d.CE)("div",m,[t[1]||(t[1]=(0,d.Lk)("h2",null,"待辦事項列表",-1)),0===e.todos.length?((0,d.uX)(),(0,d.CE)("div",h,t[0]||(t[0]=[(0,d.Lk)("p",null,"目前沒有待辦事項",-1)]))):((0,d.uX)(),(0,d.CE)("div",f,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.todos,t=>((0,d.uX)(),(0,d.Wv)(i,{key:t.id,todo:t,onToggle:e=>o.$emit("toggle-todo",t),onDelete:e=>o.$emit("delete-todo",t.id)},null,8,["todo","onToggle","onDelete"]))),128))]))])}var g=e(33);const b={class:"todo-content"},T={class:"todo-header"},y={class:"todo-title"},k={class:"todo-actions"},L={key:0,class:"todo-description"},w={class:"todo-date"};function _(o,t,e,n,r,s){return(0,d.uX)(),(0,d.CE)("div",{class:(0,g.C4)(["todo-item",{completed:e.todo.completed}])},[(0,d.Lk)("div",b,[(0,d.Lk)("div",T,[(0,d.Lk)("h3",y,(0,g.v_)(e.todo.title),1),(0,d.Lk)("div",k,[(0,d.Lk)("button",{onClick:t[0]||(t[0]=t=>o.$emit("toggle")),class:"btn btn-toggle"},(0,g.v_)(e.todo.completed?"取消完成":"標記完成"),1),(0,d.Lk)("button",{onClick:t[1]||(t[1]=t=>o.$emit("delete")),class:"btn btn-delete"}," 刪除 ")])]),e.todo.description?((0,d.uX)(),(0,d.CE)("p",L,(0,g.v_)(e.todo.description),1)):(0,d.Q3)("",!0),(0,d.Lk)("small",w," 建立時間: "+(0,g.v_)(s.formatDate(e.todo.created_at)),1)])],2)}const C={name:"TodoItem",props:{todo:{type:Object,required:!0}},emits:["toggle","delete"],methods:{formatDate(o){return new Date(o).toLocaleString("zh-TW")}}};var O=e(262);const j=(0,O.A)(C,[["render",_],["__scopeId","data-v-01a73831"]]),$=j,E={name:"TodoList",components:{TodoItem:$},props:{todos:{type:Array,required:!0}},emits:["toggle-todo","delete-todo"]},I=(0,O.A)(E,[["render",v],["__scopeId","data-v-6696b446"]]),X=I,x={name:"Home",components:{TodoList:X},data(){return{todos:[],newTodo:{title:"",description:""}}},async mounted(){await this.fetchTodos()},methods:{async fetchTodos(){try{const o=await this.$http.get("/api/todos");this.todos=o.data}catch(o){console.error("取得待辦事項失敗:",o)}},async addTodo(){if(this.newTodo.title.trim())try{const o=await this.$http.post("/api/todos",this.newTodo);this.todos.push(o.data),this.newTodo={title:"",description:""}}catch(o){console.error("新增待辦事項失敗:",o)}},async toggleTodo(o){try{const t=await this.$http.put(`/api/todos/${o.id}`,{...o,completed:!o.completed}),e=this.todos.findIndex(t=>t.id===o.id);this.todos[e]=t.data}catch(t){console.error("更新待辦事項失敗:",t)}},async deleteTodo(o){try{await this.$http.delete(`/api/todos/${o}`),this.todos=this.todos.filter(t=>t.id!==o)}catch(t){console.error("刪除待辦事項失敗:",t)}}}},A=(0,O.A)(x,[["render",u],["__scopeId","data-v-f8ba331e"]]),D=A,P={name:"App",components:{Home:D}},S=(0,O.A)(P,[["render",i]]),q=S;var F=e(335);const H="/api",U=F.A.create({baseURL:H,timeout:1e4,headers:{"Content-Type":"application/json"}});U.interceptors.request.use(o=>o,o=>Promise.reject(o)),U.interceptors.response.use(o=>o,o=>(console.error("API Error:",o),Promise.reject(o)));const J=U,M=(0,n.Ef)(q);M.config.globalProperties.$http=J,M.mount("#app")}},t={};function e(n){var d=t[n];if(void 0!==d)return d.exports;var r=t[n]={exports:{}};return o[n](r,r.exports,e),r.exports}e.m=o,(()=>{var o=[];e.O=(t,n,d,r)=>{if(!n){var s=1/0;for(c=0;c<o.length;c++){for(var[n,d,r]=o[c],i=!0,a=0;a<n.length;a++)(!1&r||s>=r)&&Object.keys(e.O).every(o=>e.O[o](n[a]))?n.splice(a--,1):(i=!1,r<s&&(s=r));if(i){o.splice(c--,1);var l=d();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=o.length;c>0&&o[c-1][2]>r;c--)o[c]=o[c-1];o[c]=[n,d,r]}})(),(()=>{e.d=(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()})(),(()=>{e.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t)})(),(()=>{e.r=o=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}})(),(()=>{var o={524:0};e.O.j=t=>0===o[t];var t=(t,n)=>{var d,r,[s,i,a]=n,l=0;if(s.some(t=>0!==o[t])){for(d in i)e.o(i,d)&&(e.m[d]=i[d]);if(a)var c=a(e)}for(t&&t(n);l<s.length;l++)r=s[l],e.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return e.O(c)},n=self["webpackChunktodo_frontend"]=self["webpackChunktodo_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=e.O(void 0,[504],()=>e(15));n=e.O(n)})();
//# sourceMappingURL=app.6eb6667d.js.map